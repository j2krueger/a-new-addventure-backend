"use strict";

import { expect, use } from 'chai';
import chaiHttp from "chai-http";
const chai = use(chaiHttp);
const constants = (await import('../helpers/constants.js')).default;
// const mongoose = (await import("mongoose")).default;
const agent = chai.request.agent(constants.mochaTestingUrl);


describe('get entries', function () {
    it('should return a 200 OK status and a list of entries', function () {
        agent
            .get('/entry')
            .end(function (err, res) {
                expect(err).to.be.null;
                expect(res).to.have.status(200);
                expect(res.body).to.be.an('array');
                for (const entry of res.body) {
                    expect(entry.entryID).to.be.a('string').with.lengthOf(24);
                    expect(entry.storyTitle).to.be.a('string');
                    expect(entry.entryTitle).to.be.a('string');
                }
            });
    });
});

// get entries
// get entry by id
// post entry
// continue entry